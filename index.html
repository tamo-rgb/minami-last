<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ­å¹Œå¸‚å—åŒº</title>

    <!-- å…±é€šãƒ•ã‚©ãƒ³ãƒˆï¼ˆä»–ãƒšãƒ¼ã‚¸ã¨çµ±ä¸€ï¼‰ -->
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="assets/style.css">
    <script src="assets/common.js"></script>

    <!-- Intro.js CSS / JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/introjs.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/intro.min.js"></script>

    <meta name="google-site-verification" content="JETLq1GyWycbhYNqeH6vKwRF3iWqubZvXpzOCon0hYU" />
</head>

<style>
    body {
        font-family: "Zen Maru Gothic", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 0;
    }


    /* =========================
       Heroã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼
    ========================= */
    .hero {
        position: relative;
        margin: 10px auto 12px;
        width: 100%;
        max-width: 900px;
        aspect-ratio: 2/1;
        overflow: hidden;
        background-color: #fff;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }

    .hero-slide {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        transition: opacity 1s ease-in-out;
        z-index: 1;
    }

    .hero-slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .hero-slide.active {
        opacity: 1;
        z-index: 2;
    }

    /* =========================
       ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆã‚«ãƒ¼ãƒ‰æ–¹å¼ï¼‰
    ========================= */
    #popup {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.45);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
    }

    .popup-content {
        background: #fff;
        margin: 10px;
        padding: 0;
        border-radius: 15px;
        max-width: 360px;
        width: 100%;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
    }

    .popup-card {
        display: none;
        flex-direction: column;
        align-items: center;
        text-align: center;
        justify-content: center;
        gap: 1rem;
        position: relative;
        animation: fadeIn 0.3s ease;
        min-height: 340px;
        padding: 20px;
        box-sizing: border-box;
    }

    .popup-card.active {
        display: flex;
    }

    .popup-content h3 {
        font-size: var(--font-h3);
        margin: 0 0 10px;
    }

    .popup-content select {
        width: 100%;
        white-space: normal;
        word-break: break-word;
        padding: 8px 12px;
        font-size: var(--font-body);
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #fff;
        cursor: pointer;
    }

    .popup-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: transparent;
        border: none;
        font-size: 1.4rem;
        font-weight: bold;
        cursor: pointer;
        color: #333;
    }

    .popup-buttons {
        display: flex;
        gap: 10px;
        width: 100%;
        justify-content: center;
    }

    .popup-next {
        background: #FFD500;
        color: #333;
        flex-grow: 1;
        padding: 14px 16px;
        font-size: 1rem;
        border-radius: 12px;
        border: none;
        cursor: pointer;
        font-weight: bold;
    }

    .popup-back {
        background: #fff;
        border: 2px solid #ccc;
        color: #666;
        text-align: center;
        border-radius: 12px;
        padding: 10px 26px;
        font-size: 0.95rem;
        cursor: pointer;
    }

    .popup-underbuttons {
        width: 100%;
        display: flex;
        gap: 0.7rem;
        margin-top: 1rem;
        justify-content: center;
    }

    /* =========================
       ãŠçŸ¥ã‚‰ã›ãƒ»é‡è¦ãƒ‹ãƒ¥ãƒ¼ã‚¹
    ========================= */
    .important_section {
        display: flex;
        align-items: center;
        background-color: #969696;
        padding: 4px 12px;
        margin: 0 auto 12px;
        max-width: 900px;
    }

    .important_section .icon img {
        width: 30px;
        padding: 4px 6px 4px 0;
    }

    .important_news {
        font-weight: 500;
        color: #ffffff;
        margin: 0;
        font-size: var(--font-p);
    }

    /* =========================
       Googleã‚«ã‚¹ã‚¿ãƒ æ¤œç´¢
    ========================= */
    .gcse-search {
        max-width: 900px;
        margin: 0 auto 8px;
        background-color: #fff;
        border-radius: 10px;
        padding: 8px 10px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        box-sizing: border-box;
    }

    /* =========================
       ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœãƒƒã‚¯ã‚¹ï¼ˆæ¤œç´¢ãƒ»ãŠçŸ¥ã‚‰ã›ç­‰ï¼‰
    ========================= */
    #contents {
        display: flex;
        gap: 10px;
        padding: 0 10px 12px;
        max-width: 900px;
        margin: 0 auto;
        box-sizing: border-box;
    }

    .content-box {
        flex: 1;
        background: var(--color-primary);
        color: #ffffff;
        padding: 16px 10px;
        border-radius: 10px;
        text-align: center;
        text-decoration: none;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
        border: 1px solid #f0f2f4;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
    }

    .content-box .icon img {
        width: 3em;
        object-fit: contain;
    }

    .content-box h2 {
        margin: 0;
    }

    /* =========================
       ãƒ•ã‚©ãƒ¼ãƒ ãƒ»ã‚»ãƒ¬ã‚¯ãƒˆ
    ========================= */
    select {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        padding: 8px 40px 8px 12px;
        font-size: var(--font-body);
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #fff;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0l5 6 5-6H0z' fill='%23333'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 10px 6px;
        cursor: pointer;
        box-sizing: border-box;
    }

    .form-section {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin: 8px 10px;
        text-align: left;
        font-size: var(--font-p);
    }

    .form-section label {
        font-weight: 500;
        text-align: center;
    }

    /* =========================
       ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã‚¨ãƒªã‚¢
    ========================= */
    .personalize {
        margin: 10px 0px;
        background-color: var(--color-gbg);
        padding: 8px 10px 14px;
        max-width: 900px;
        box-sizing: border-box;
    }

    .toggle-list {
        margin-bottom: 10px;
        border-radius: 10px;
        overflow: hidden;
        background: #ffffff;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
        border: 1px solid #f0f2f4;
    }

    .toggle-header {
        display: flex;
        align-items: center;
        padding: 12px 14px;
        cursor: pointer;
        font-weight: 600;
        color: var(--color-text);
        font-size: var(--font-h3);
        background-color: var(--color-primary);
        color: #fff;
    }

    .toggle-header span {
        margin-left: auto;
        font-size: 1.4rem;
    }

    .toggle-content {
        display: none;
        padding: 4px 4px 10px;
    }

    .toggle-list.active .toggle-content {
        display: block;
    }

    /* =========================
       åœ°åŸŸã‚«ãƒ¼ãƒ‰
    ========================= */
    .region-cards {
        display: flex;
        gap: 10px;
        margin: 8px 0 10px;
        align-items: stretch;
        flex-wrap: wrap;
    }

    .region-card {
        flex: 1;
        min-width: 150px;
        background: #ffffff;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        padding: 8px 10px;
        cursor: pointer;
        text-decoration: none;
        color: #333;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        border: 1px solid #f0f2f4;
    }

    .region-card a {
        display: flex;
        align-items: center;
        text-decoration: none;
        font-size: var(--font-p);
        font-weight: 500;
        color: var(--color-text);
        gap: 6px;
    }

    .region-card a img {
        width: 40px;
        height: 40px;
        object-fit: contain;
    }

    /* =========================
       è¨˜äº‹ã‚«ãƒ¼ãƒ‰ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
    ========================= */
    .news-slider {
        position: relative;
        width: 100%;
        margin: 4px auto 0;
        overflow: hidden;
        background-color: #fff;
        border-radius: 10px;
        max-width: 900px;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
        border: 1px solid #f0f2f4;
        box-sizing: border-box;
        padding: 6px 0 10px;
    }

    .news-track,
    #dynamicNewsTrack {
        display: flex;
        transition: transform 0.5s ease;
        gap: 10px;
        padding: 4px 10px;
        box-sizing: border-box;
    }

    .recommended-card {
        background: #ffffff;
        padding: 10px 12px;
        border-radius: 8px;
        flex: 0 0 100%;
        box-sizing: border-box;
        border: 1px solid var(--color-primary);
    }

    .recommended-card h4 {
        margin: 0 0 6px;
        color: var(--color-text);
    }

    .recommended-card p {
        margin: 0 0 8px;
        font-size: var(--font-p);
    }

    .recommended-card a {
        display: inline-block;
        margin-top: 4px;
        padding: 8px 12px;
        background: var(--color-primary);
        color: #ffffff;
        border-radius: 8px;
        text-decoration: none;
        font-size: 0.9rem;
        float: right;
    }

    .arrow {
        position: absolute;
        top: 90%;
        transform: translateY(-50%);
        border: none;
        cursor: pointer;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        background: #ffffff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 100;
    }

    .arrow.left {
        left: 6px;
    }

    .arrow.right {
        right: 6px;
    }

    .arrow:hover {
        background: #f0f0f0;
    }

    /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ç”¨ ãƒ‰ãƒƒãƒˆï¼†ä¸€æ™‚åœæ­¢ãƒœã‚¿ãƒ³ */
    .slider-controls {
        margin-top: 4px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
    }

    .slider-dots {
        display: flex;
        gap: 10px;
    }

    .slider-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #222222;
        border: none;
        padding: 0;
        position: relative;
        overflow: hidden;
    }

    .slider-dot.active {
        background: #eee;
        transform: scale(1.4);
    }

    .slider-dot.active::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: conic-gradient(#222222 0deg var(--progress, 0deg),
                transparent var(--progress, 0deg) 360deg);
    }

    .slider-pause {
        border: 1px solid #ccc;
        background: #fff;
        border-radius: 4px;
        padding: 4px 6px;
        font-size: 12px;
        cursor: pointer;
    }

    /* =========================
       Intro.js ãƒ„ã‚¢ãƒ¼
    ========================= */
    .introjs-tooltip {
        background-color: #ffffff;
        border-radius: 15px;
        width: 300px;
        font-size: 16px;
    }

    .introjs-progress {
        background-color: rgb(177, 177, 177);
    }

    .introjs-nextbutton {
        background-color: #FFD500 !important;
        border: none;
        border-radius: 12px;
        padding: 8px 20px;
        font-weight: bold;
    }

    .introjs-prevbutton {
        background-color: #ececec !important;
        color: #333;
        border: none;
        border-radius: 12px;
        padding: 8px 20px;
        font-weight: bold;
    }

    /* =========================
       æ±ç”¨ãƒœã‚¿ãƒ³
    ========================= */
    #start-tour,
    #popupSubmit {
        padding: 12px 40px;
        cursor: pointer;
        font-weight: bold;
        font-size: var(--font-button);
        border-radius: 50px;
        border: none;
    }

    #start-tour {
        background: var(--color-primary);
        color: var(--color-bg);
    }

    #popupSubmit {
        background: #247627;
        color: #f5f8fb;
    }

    .end {
        text-align: center;
        margin: 20px 0 24px;
    }

    .font-size-bottom {
        text-align: center;
    }

    /* =========================
       ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    ========================= */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* å°ã•ã‚ç”»é¢ã§ã®èª¿æ•´ */
    @media (max-width: 600px) {
        .hero {
            border-radius: 0;
        }

        .content-box {
            padding: 14px 8px;
        }

        .recommended-card {
            padding: 10px;
        }

        .arrow {
            display: none;
        }
    }

    /* =========================
   section_1ï¼ˆ#s_1 & #s_3ï¼‰
   â†’ ã‚«ãƒ¼ãƒ‰ã¯ç™½èƒŒæ™¯ï¼‹é»’æ–‡å­—
========================= */
    .section_1 .card {
        background-color: var(--color-gbg);
        color: var(--color-text);
        font-weight: 500;
        text-align: center;
    }

    .section_1 .card_1 {
        background-color: #ffffff;
        color: var(--color-text);
        font-weight: 500;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        border-radius: 10px;
        padding: 10px 5px;
        box-shadow: 0 1px 2px rgba(10, 10, 10, 0.04);
        text-decoration: none;
    }

    .section_1 .card h3,
    .section_1 .card p {
        color: var(--color-text) !important;
    }

    /* ã‚¢ã‚¤ã‚³ãƒ³ã¯ãã®ã¾ã¾çµ±ä¸€ */
    .section_1 .card-icon img {
        width: 50px;
        height: 50px;
        object-fit: contain;
    }

    /* èƒŒæ™¯ã¯ä»Šã¾ã§é€šã‚Šç·‘ */
    .section_1 {
        padding: 10px 10px 20px 10px;
        background-color: #ffffff;
    }

    /* =========================
   ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå…±é€šï¼‰
========================= */

    .section_1 .grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        margin: 15px 0 5px;
    }

    .section .grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
        margin: 10px 0 5px;
    }

    h3 {
        text-align: center;
        padding-top: 5px;
        margin: 0;
        color: #333;
    }

    .card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        border-radius: 10px;
        padding: 10px 5px;
        box-shadow: 0 1px 2px rgba(10, 10, 10, 0.04);
        text-decoration: none;
    }

    .card-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        padding-bottom: 5px;
    }

    .QAF {
        text-align: center;
    }


    .tag-list {
        display: flex;
        flex-wrap: wrap;
        /* ã¯ã¿å‡ºã—ãŸã‚‰æŠ˜ã‚Šè¿”ã— */
        gap: 8px;
        /* ãƒœã‚¿ãƒ³åŒå£«ã®ã™ãé–“ */
        margin: 10px 10px 20px;
    }

    .tag-btn {
        display: inline-block;
        padding: 6px 14px;
        margin: 5px;
        border-radius: 999px;
        /* ã¾ã‚“ä¸¸ã®ãƒ”ãƒ«å‹ */
        background-color: var(--color-primary);
        color: var(--color-bg);
        font-size: var(--font-p);
        text-decoration: none;
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: background-color 0.2s ease,
            transform 0.1s ease,
            box-shadow 0.1s ease;
    }

    .tag-btn:hover {
        background-color: #2f8a3e;
        /* æ¿ƒã„ã‚ã®ç·‘ãªã©ã€ãŠå¥½ã¿ã§ */
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
    }

    .tag-btn:active {
        transform: translateY(0);
        box-shadow: none;
    }
</style>

<body>
    <div class="wrapper">

        <!-- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é€²æ—ãƒãƒ¼ -->
        <div id="scrollProgress"></div>

        <!-- ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼šã‚«ãƒ¼ãƒ‰æ–¹å¼ -->
        <div id="popup" style="display:none;">
            <div class="popup-content" id="popupCardContainer">
                <!-- STEP 1 -->
                <div class="popup-card active" data-step="1">
                    <button class="popup-close">&times;</button>
                    <h3>ã‚¬ã‚¤ãƒ‰ã‚’åˆ©ç”¨ã—ã¾ã™ã‹ï¼Ÿ</h3>
                    <div class="popup-buttons">
                        <button class="popup-next" data-answer="yes">ã¯ã„</button>
                        <button class="popup-next" data-answer="no">ã„ã„ãˆ</button>
                    </div>
                </div>

                <!-- STEP 2 -->
                <div class="popup-card" data-step="2">
                    <button class="popup-close">&times;</button>
                    <h3>ã‚ãªãŸã¯<br>æœ­å¹Œå¸‚å—åŒºæ°‘ã§ã™ã‹ï¼Ÿ</h3>
                    <div class="popup-buttons">
                        <button class="popup-next" data-answer="yes">ã¯ã„</button>
                        <button class="popup-next" data-answer="no">ã„ã„ãˆ</button>
                    </div>
                    <button class="popup-back">æˆ»ã‚‹</button>
                </div>

                <!-- STEP 3ï¼ˆå—åŒºå‘ã‘ç«‹å ´ï¼‰ -->
                <div class="popup-card" data-step="3">
                    <button class="popup-close">&times;</button>
                    <h3>ã‚ãªãŸã®ç«‹å ´ã‚’<br>æ•™ãˆã¦ãã ã•ã„</h3>
                    <select id="popupAudienceYes">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="ä¸€äººæš®ã‚‰ã—">ä¸€äººæš®ã‚‰ã—</option>
                        <option value="äº‹æ¥­è€…">äº‹æ¥­è€…</option>
                        <option value="å­è‚²ã¦">å­è‚²ã¦</option>
                        <option value="ã‚·ãƒ‹ã‚¢">ã‚·ãƒ‹ã‚¢</option>
                        <option value="ãã®ä»–">ãã®ä»–</option>
                    </select>
                    <div class="popup-underbuttons">
                        <button class="popup-back">æˆ»ã‚‹</button>
                        <button class="popup-next">æ¬¡ã¸</button>
                    </div>
                </div>

                <!-- STEP 4ï¼ˆå—åŒºä»¥å¤–å‘ã‘ç«‹å ´ï¼‰ -->
                <div class="popup-card" data-step="4">
                    <button class="popup-close">&times;</button>
                    <h3>ã‚ãªãŸã®ç«‹å ´ã‚’<br>æ•™ãˆã¦ãã ã•ã„</h3>
                    <select id="popupAudienceNo">
                        <option value="ãã®ä»–">ãã®ä»–</option>
                        <option value="èª¿ã¹å­¦ç¿’">èª¿ã¹å­¦ç¿’</option>
                        <option value="å¼•ã£è¶Šã—æ¤œè¨">å¼•ã£è¶Šã—ã‚’æ¤œè¨</option>
                        <option value="è¦³å…‰">è¦³å…‰</option>
                    </select>
                    <div class="popup-underbuttons">
                        <button class="popup-back">æˆ»ã‚‹</button>
                        <button class="popup-next">æ¬¡ã¸</button>
                    </div>
                </div>

                <!-- STEP 5ï¼ˆå—åŒºæ°‘ã®ã¿åœ°åŸŸé¸æŠï¼‰ -->
                <div class="popup-card" data-step="5">
                    <button class="popup-close">&times;</button>
                    <h3>ãŠä½ã¾ã„ã®åœ°åŸŸã‚’<br>æ•™ãˆã¦ãã ã•ã„</h3>
                    <select id="popupRegion">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="area_1">çœŸé§’å†…æŸä¸˜/æ±ç”º/å¹¸ç”º/æ³‰ç”º/å—ç”º</option>
                        <option value="area_2">çŸ³å±±æ±/å¸¸ç›¤/æ»é‡/èŠ¸è¡“ã®æ£®</option>
                        <option value="area_3">è—¤é‡/ç™½å·/ç°¾èˆ/ç ¥å±±/è±Šæ»/ç¡¬çŸ³å±±/å°é‡‘æ¹¯/å®šå±±æ¸“æ¸©æ³‰è¥¿ãƒ»æ±/å®šå±±æ¸“</option>
                        <option value="area_4">çœŸé§’å†…æœ¬ç”º/å®¹ç”º/æ›™ç”º/ç·‘ç”º</option>
                        <option value="area_5">è—»å²©ä¸‹ãƒ»åŒ—ãƒæ²¢ãƒ»ä¸­ãƒæ²¢/å—30æ¡ï½39æ¡ã®è¥¿</option>
                        <option value="area_6">å—æ²¢ãƒ»çŸ³å±±</option>
                        <option value="area_7">çœŸé§’å†…ãƒ»å·æ²¿</option>
                        <option value="area_8">æ¾„å·</option>
                        <option value="ãªã—">ãªã—</option>
                    </select>
                    <div class="popup-underbuttons">
                        <button class="popup-back">æˆ»ã‚‹</button>
                        <button class="popup-next">æ¬¡ã¸</button>
                    </div>
                </div>

                <!-- STEP 6ï¼ˆã‚¬ã‚¤ãƒ‰é–‹å§‹ï¼‰ -->
                <div class="popup-card" data-step="6">
                    <button class="popup-close">&times;</button>
                    <h3>è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸï¼<br>ã‚¬ã‚¤ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™</h3>
                    <div class="popup-underbuttons" style="justify-content:center;">
                        <button id="popupSubmit">ã‚µã‚¤ãƒˆã‚’è¦‹ã‚‹</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼èª­ã¿è¾¼ã¿ -->
        <div id="header"></div>
        <div class="yohaku" style="height:50px;"></div>


        <main>
            <!-- Heroã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ -->
            <section class="hero">
                <a href="https://www.city.sapporo.jp/minami/news/202510/20251018.html" class="hero-slide">
                    <img src="/data/photo_1.jpg" alt="ç”»åƒ1">
                </a>
                <a href="https://www.city.sapporo.jp/minami/news/202510/20251028.html" class="hero-slide">
                    <img src="/data/photo_2.JPG" alt="ç”»åƒ2">
                </a>
                <a href="https://www.city.sapporo.jp/minami/news/202510/20251020.html" class="hero-slide">
                    <img src="/data/photo_3.jpg" alt="ç”»åƒ3">
                </a>
            </section>

            <!-- é‡è¦ãªãŠçŸ¥ã‚‰ã› -->
            <section class="important_section" id="emergency">
                <div class="icon">
                    <img src="data/home_2.png" alt="ãŠçŸ¥ã‚‰ã›ã‚¢ã‚¤ã‚³ãƒ³">
                </div>
                <p class="important_news">ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æµè¡Œè­¦å ±ãŒç™ºä»¤ã•ã‚Œã¾ã—ãŸ</p>
            </section>

            <!-- Googleã‚«ã‚¹ã‚¿ãƒ æ¤œç´¢ -->
            <script async src="https://cse.google.com/cse.js?cx=d50400fa95b444d4e"></script>
            <div class="gcse-search"></div>

            <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœã‚¿ãƒ³ -->
            <section id="contents">
                <a href="search.html" class="content-box">
                    <div class="icon">
                        <img src="data/home_1.png" alt="æƒ…å ±ã‚’æ¢ã™ã‚¢ã‚¤ã‚³ãƒ³">
                    </div>
                    <div class="text">
                        <h2>æƒ…å ±ã‚’æ¢ã™</h2>
                    </div>
                </a>
                <a href="news.html" class="content-box">
                    <div class="icon">
                        <img src="data/home_2.png" alt="ãŠçŸ¥ã‚‰ã›ã‚¢ã‚¤ã‚³ãƒ³">
                    </div>
                    <div class="text">
                        <h2>ãŠçŸ¥ã‚‰ã›</h2>
                    </div>
                </a>
            </section>

            <!-- ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºï¼‹åœ°åŸŸã‚«ãƒ¼ãƒ‰ï¼‹ãŠã™ã™ã‚è¨˜äº‹ -->
            <section class="personalize">
                <div class="toggle-list">
                    <div id="tog-header" class="toggle-header">
                        ãŠã™ã™ã‚æƒ…å ±ã‚’è¨­å®šã™ã‚‹<span>+</span>
                    </div>
                    <div class="toggle-content">
                        <div class="form-section">
                            <label for="region">ãŠä½ã¾ã„ã®åœ°åŸŸ</label>
                            <select id="region">
                                <option value="ãªã—">ãªã—</option>
                                <option value="area_1">çœŸé§’å†…æŸä¸˜/æ±ç”º/å¹¸ç”º/æ³‰ç”º/å—ç”º</option>
                                <option value="area_2">çŸ³å±±æ±/å¸¸ç›¤/æ»é‡/èŠ¸è¡“ã®æ£®</option>
                                <option value="area_3">è—¤é‡/ç™½å·/ç°¾èˆ/ç ¥å±±/è±Šæ»/ç¡¬çŸ³å±±/å°é‡‘æ¹¯/å®šå±±æ¸“æ¸©æ³‰è¥¿ãƒ»æ±/å®šå±±æ¸“</option>
                                <option value="area_4">çœŸé§’å†…æœ¬ç”º/å®¹ç”º/æ›™ç”º/ç·‘ç”º</option>
                                <option value="area_5">è—»å²©ä¸‹ãƒ»åŒ—ãƒæ²¢ãƒ»ä¸­ãƒæ²¢/å—30æ¡ï½39æ¡ã®è¥¿</option>
                                <option value="area_6">å—æ²¢ãƒ»çŸ³å±±</option>
                                <option value="area_7">çœŸé§’å†…ãƒ»å·æ²¿</option>
                                <option value="area_8">æ¾„å·</option>
                            </select>
                        </div>

                        <div class="form-section">
                            <label for="audience">å¯¾è±¡è€…</label>
                            <select id="audience">
                                <option value="ãã®ä»–">ãã®ä»–</option>
                                <option value="ä¸€èˆ¬">å—åŒºåŒºæ°‘</option>
                                <option value="èª¿ã¹å­¦ç¿’">èª¿ã¹å­¦ç¿’</option>
                                <option value="å¼•ã£è¶Šã—æ¤œè¨">å¼•ã£è¶Šã—ã‚’æ¤œè¨</option>
                                <option value="è¦³å…‰">è¦³å…‰</option>
                                <option value="ä¸€äººæš®ã‚‰ã—">ä¸€äººæš®ã‚‰ã—</option>
                                <option value="äº‹æ¥­è€…">äº‹æ¥­è€…</option>
                                <option value="å­è‚²ã¦">å­è‚²ã¦</option>
                                <option value="ã‚·ãƒ‹ã‚¢">ã‚·ãƒ‹ã‚¢</option>
                            </select>
                        </div>

                        <div class="form-section font-size-toggle">
                            <label>æ–‡å­—ã‚µã‚¤ã‚º</label>
                            <div class="font-size-bottom">
                                <label><input type="radio" name="font-size" value="small"> å°</label>
                                <label><input type="radio" name="font-size" value="medium"> ä¸­</label>
                                <label><input type="radio" name="font-size" value="large" checked> å¤§</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åœ°åŸŸã‚«ãƒ¼ãƒ‰ï¼ˆJSã§è¿½åŠ ï¼‰ -->
                <section id="regionCards" class="region-cards">
                </section>

                <!-- ãŠã™ã™ã‚è¨˜äº‹ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
                <div class="news-slider" id="dynamicNewsSlider">
                    <button class="arrow left" id="dynamicPrevBtn">&#10094;</button>
                    <div class="news-track" id="dynamicNewsTrack"></div>
                    <button class="arrow right" id="dynamicNextBtn">&#10095;</button>

                    <div class="slider-controls">
                        <button class="slider-pause" id="sliderPauseBtn" aria-label="è‡ªå‹•å†ç”Ÿã‚’ä¸€æ™‚åœæ­¢">â¸</button>
                        <div class="slider-dots" id="sliderDots"></div>
                    </div>
                </div>
            </section>

            <section class="section_1" id="s_1">
                <h3 class="padding-bottom:5px;">ã‚ˆãåˆ©ç”¨ã•ã‚Œã‚‹æƒ…å ±</h3>
                <div class="grid">

                    <a href="/uncompleted.html" class="card">
                        <p>åŒºå½¹æ‰€æ¡ˆå†…</p>
                    </a>

                    <a href="/uncompleted.html" class="card">
                        <p>æ•‘æ€¥å½“ç•ªåŒ»ç™‚æ©Ÿé–¢</p>
                    </a>

                    <a href="/uncompleted.html" class="card">
                        <p>å®¶åº­ã”ã¿</p>
                    </a>

                    <a href="/uncompleted.html" class="card">
                        <p>é˜²ç½ãƒ»å®‰å…¨</p>
                    </a>

                    <a href="/uncompleted.html" class="card">
                        <p>çª“å£<br>å‘¼ã³å‡ºã—çŠ¶æ³</p>
                    </a>

                    <a href="/uncompleted.html" class="card">
                        <p>æ¥åºã›ãšã«<br>ã§ãã‚‹æ‰‹ç¶šã</p>
                    </a>

                </div>

            </section>

            <section class="end">
                <button id="start-tour">
                    ã‚¬ã‚¤ãƒ‰é–‹å§‹
                </button>
            </section>

        </main>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼èª­ã¿è¾¼ã¿ -->
        <div id="footer"></div>
    </div>
    <!-- JS èª­ã¿è¾¼ã¿ï¼ˆå…ƒã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ãã®ã¾ã¾åˆ©ç”¨ï¼‰ -->
    <script>
        /* ============================================================
           ğŸŸ¢ è¦ç´ å–å¾—
        ============================================================ */
        const regionSelect = document.getElementById('region');
        const audienceSelect = document.getElementById('audience');
        const dynamicTrack = document.getElementById('dynamicNewsTrack');
        const regionCardsContainer = document.getElementById('regionCards');
        const popup = document.getElementById('popup');
        const popupCards = document.querySelectorAll('.popup-card');
        const popupSubmit = document.getElementById('popupSubmit');
        const popupRegion = document.getElementById('popupRegion');
        const popupAudienceYes = document.getElementById('popupAudienceYes');
        const popupAudienceNo = document.getElementById('popupAudienceNo');
        const startTourBtn = document.getElementById('start-tour');
        const sliderDotsContainer = document.getElementById('sliderDots');
        const pauseBtn = document.getElementById('sliderPauseBtn');

        let currentDynamicIndex = 0;
        let currentStep = 1;
        let userData = { isFirst: null, isResident: null, audience: null, region: null };
        const SLIDE_INTERVAL = 5000;
        let autoSlideId = null;
        let isPaused = false;

        /* ãƒ‰ãƒƒãƒˆç”¨ã‚¿ã‚¤ãƒãƒ¼ */
        let dotTimerStartTime = 0;
        let dotTimerAnimationId = null;

        /* ============================================================
           ğŸŸ¢ ãƒ‡ãƒ¼ã‚¿å®šç¾©
        ============================================================ */
        const recommendedArticles = {
            ä¸€èˆ¬: [
                { title: "ç°¡å˜ã«è¨¼æ˜æ›¸ç™ºè¡Œã‚’ã™ã‚‹ã‚³ãƒ„", url: "#" },
                { title: "å›½æ°‘å¥åº·ä¿é™ºæ–™ã®å¤œé–“ç´ä»˜ç›¸è«‡ã®ãŠçŸ¥ã‚‰ã›", url: "https://www.city.sapporo.jp/minami/hoken/yakannofusodan.html" },
                { title: "å—åŒºå½¹æ‰€é£Ÿå ‚å–¶æ¥­å†é–‹ã®ãŠçŸ¥ã‚‰ã›", url: "https://www.city.sapporo.jp/minami/oshirase/20251020shokudo.html" }
            ],
            ä¸€äººæš®ã‚‰ã—: [
                { title: "æ¥åºã›ãšã«ã§ãã‚‹æ‰‹ç¶šã", url: "https://www.city.sapporo.jp/minami/annai/jyuminhyoraityonashi.html" },
                { title: "ä½å±…ç¢ºä¿çµ¦ä»˜é‡‘ã«ã¤ã„ã¦", url: "https://step-sapporo.jp/housingbenefit/?utm_source=chatgpt.com" },
                { title: "ã‚¢ãƒ«ãƒã‚¤ãƒˆæƒ…å ±ã¾ã¨ã‚", url: "#" }
            ],
            äº‹æ¥­è€…: [
                { title: "ä¼æ¥­DXæ¨é€²ã«å‘ã‘ãŸæ”¯æ´", url: "https://www.city.sapporo.jp/keizai/top/topics/it/kigyoudx.html?utm_source=chatgpt.com" },
                { title: "ä¸­å°ä¼æ¥­ã¸ã®èè³‡ãƒ»æ”¯æ´", url: "https://www.city.sapporo.jp/keizai/chusho/index.html" },
                { title: "äº‹æ¥­æ‰€ã‹ã‚‰å‡ºã‚‹ã”ã¿", url: "https://www.city.sapporo.jp/seiso/jigyousyo/jigyousyo.html" }
            ],
            ãã®ä»–: [
                { title: "ä¼æ¥­DXæ¨é€²ã«å‘ã‘ãŸæ”¯æ´", url: "https://www.city.sapporo.jp/keizai/top/topics/it/kigyoudx.html?utm_source=chatgpt.com" },
                { title: "ä¸­å°ä¼æ¥­ã¸ã®èè³‡ãƒ»æ”¯æ´", url: "https://www.city.sapporo.jp/keizai/chusho/index.html" },
                { title: "äº‹æ¥­æ‰€ã‹ã‚‰å‡ºã‚‹ã”ã¿", url: "https://www.city.sapporo.jp/seiso/jigyousyo/jigyousyo.html" }
            ],
            èª¿ã¹å­¦ç¿’: [
                { title: "å‹•ç”»ã§çŸ¥ã‚‹å—åŒº", url: "https://www.city.sapporo.jp/keizai/top/topics/it/kigyoudx.html?utm_source=chatgpt.com" },
                { title: "åºƒå ±ã•ã£ã½ã‚", url: "https://www.city.sapporo.jp/keizai/chusho/index.html" },
                { title: "å—åŒºã®åœ°åŸŸç´¹ä»‹", url: "https://www.city.sapporo.jp/seiso/jigyousyo/jigyousyo.html" }
            ]
        };

        const calendarPages = {
            area_1: [{ name: "ã”ã¿åé›†æ—¥", url: "facility_sumikawa_library.html" }],
            area_2: [{ name: "ã”ã¿åé›†æ—¥", url: "facility_sumikawa_library.html" }],
            area_3: [{ name: "ã”ã¿åé›†æ—¥", url: "facility_sumikawa_library.html" }],
            area_4: [{ name: "ã”ã¿åé›†æ—¥", url: "facility_sumikawa_library.html" }],
            area_5: [{ name: "ã”ã¿åé›†æ—¥", url: "facility_sumikawa_library.html" }]
        };

        const nearbyFacilities = {
            area_1: [{ name: "è¿‘ãã®æ–½è¨­", url: "facility_sumikawa_library.html" }],
            area_2: [{ name: "è¿‘ãã®æ–½è¨­", url: "facility_sumikawa_library.html" }],
            area_3: [{ name: "è¿‘ãã®æ–½è¨­", url: "facility_sumikawa_library.html" }],
            area_4: [{ name: "è¿‘ãã®æ–½è¨­", url: "facility_sumikawa_library.html" }],
            area_5: [{ name: "è¿‘ãã®æ–½è¨­", url: "facility_sumikawa_library.html" }]
        };

        /* ============================================================
           ğŸŸ¢ åˆå›è¨ªå•ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—åˆ¶å¾¡
        ============================================================ */
        const hasVisited_index = localStorage.getItem('hasVisited_index');
        const savedRegion = localStorage.getItem('selectedRegion');
        const savedAudience = localStorage.getItem('selectedAudience');

        function showStep(step) {
            popupCards.forEach(card => card.classList.toggle('active', Number(card.dataset.step) === step));
            currentStep = step;
        }

        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã€Œæ¬¡ã¸ã€ã€Œã¯ã„ã€ã€Œã„ã„ãˆã€
        document.querySelectorAll('.popup-next, .popup-skip').forEach(btn => {
            btn.addEventListener('click', e => {
                const answer = e.target.dataset.answer;
                switch (currentStep) {
                    case 1:
                        if (answer === 'no') {
                            localStorage.setItem('hasVisited_index', 'true');
                            popup.style.display = 'none';
                            return;
                        }
                        userData.isFirst = true;
                        showStep(2);
                        break;
                    case 2:
                        userData.isResident = answer;
                        if (answer === 'yes') showStep(3);
                        else showStep(4);
                        break;
                    case 3:
                        if (!popupAudienceYes.value) { alert("ç«‹å ´ã‚’é¸æŠã—ã¦ãã ã•ã„"); return; }
                        userData.audience = popupAudienceYes.value;
                        showStep(5);
                        break;
                    case 4:
                        if (!popupAudienceNo.value) { alert("ç«‹å ´ã‚’é¸æŠã—ã¦ãã ã•ã„"); return; }
                        userData.audience = popupAudienceNo.value;
                        showStep(6);
                        break;
                    case 5:
                        if (!popupRegion.value) { alert("åœ°åŸŸã‚’é¸æŠã—ã¦ãã ã•ã„"); return; }
                        userData.region = popupRegion.value;
                        showStep(6);
                        break;
                }
            });
        });

        // æˆ»ã‚‹ãƒœã‚¿ãƒ³
        document.querySelectorAll('.popup-back').forEach(btn => {
            btn.addEventListener('click', () => {
                switch (currentStep) {
                    case 2: showStep(1); break;
                    case 3: showStep(2); break;
                    case 4: showStep(2); break;
                    case 5: showStep(3); break;
                    case 6: userData.isResident === 'yes' ? showStep(5) : showStep(4); break;
                }
            });
        });

        // å®Œäº†ãƒœã‚¿ãƒ³
        popupSubmit.addEventListener('click', () => {
            if (userData.isResident === 'no') userData.region = 'ãªã—';
            localStorage.setItem('selectedRegion', userData.region);
            localStorage.setItem('selectedAudience', userData.audience);
            localStorage.setItem('hasVisited_index', 'true');
            regionSelect.value = userData.region || 'ãªã—';
            audienceSelect.value = userData.audience || 'ãã®ä»–';
            updateDynamicContent();
            popup.style.display = 'none';
            startTour();
        });

        /* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ï¼ˆÃ—ï¼‰ */
        const popupCloseBtns = document.querySelectorAll('.popup-close');
        popupCloseBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                localStorage.setItem('hasVisited_index', 'true');
                popup.style.display = 'none';
            });
        });

        /* ============================================================
           ğŸŸ¢ ã‚»ãƒ¬ã‚¯ãƒˆå¤‰æ›´æ™‚ï¼šä¿å­˜ï¼‹æ›´æ–°
        ============================================================ */
        regionSelect.addEventListener('change', () => {
            localStorage.setItem('selectedRegion', regionSelect.value);
            updateDynamicContent();
        });

        audienceSelect.addEventListener('change', () => {
            localStorage.setItem('selectedAudience', audienceSelect.value);
            updateDynamicContent();
        });

        /* ============================================================
           ğŸŸ¢ ãƒ„ã‚¢ãƒ¼ãƒœã‚¿ãƒ³
        ============================================================ */
        startTourBtn.addEventListener('click', () => startTour());

        function startTour() {
            introJs().setOptions({
                steps: [
                    { element: '#emergency', intro: 'ã“ã“ã‹ã‚‰ç·Šæ€¥æƒ…å ±ãƒ»é‡è¦ãªãŠçŸ¥ã‚‰ã›ã‚’ç¢ºèªã§ãã¾ã™ã€‚', position: 'bottom' },
                    { element: '#tog-header', intro: 'ã“ã“ã§ãŠã™ã™ã‚æƒ…å ±ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚', position: 'right' },
                    { element: '#start-tour', intro: 'ã“ã®ãƒœã‚¿ãƒ³ã‹ã‚‰ã„ã¤ã§ã‚‚ã‚¬ã‚¤ãƒ‰ã‚’å†é–‹ã§ãã¾ã™ã€‚', position: 'top' }
                ],
                nextLabel: 'æ¬¡ã¸',
                prevLabel: 'æˆ»ã‚‹',
                doneLabel: 'å®Œäº†',
                showProgress: true,
                exitOnOverlayClick: false
            }).start();
        }

        /* ============================================================
           ğŸŸ¢ å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ›´æ–°
        ============================================================ */
        function updateDynamicContent() {
            const region = regionSelect.value;
            const audience = audienceSelect.value || 'ãã®ä»–';

            dynamicTrack.innerHTML = '';
            regionCardsContainer.innerHTML = '';
            sliderDotsContainer.innerHTML = '';

            // åœ°åŸŸã‚«ãƒ¼ãƒ‰
            if (region && region !== 'ãªã—') {
                calendarPages[region]?.forEach(garbage => {
                    const card = document.createElement('div');
                    card.classList.add('region-card');
                    card.innerHTML = `<a href="${garbage.url}" target="_blank"><img src="data/garbage.png" alt="ã‚¢ã‚¤ã‚³ãƒ³">ã”ã¿åé›†æ—¥</a>`;
                    regionCardsContainer.appendChild(card);
                });
                nearbyFacilities[region]?.forEach(facility => {
                    const card = document.createElement('div');
                    card.classList.add('region-card');
                    card.innerHTML = `<a href="${facility.url}" target="_blank"><img src="data/facility.png" alt="ã‚¢ã‚¤ã‚³ãƒ³">è¿‘ãã®æ–½è¨­</a>`;
                    regionCardsContainer.appendChild(card);
                });
            }

            // è¨˜äº‹ã‚«ãƒ¼ãƒ‰
            (recommendedArticles[audience] || []).forEach(article => {
                const card = document.createElement('div');
                card.classList.add('recommended-card');
                card.innerHTML = `
                    <h4>${article.title}</h4>
                    <p>è¨˜äº‹ã®ç°¡å˜ãªèª¬æ˜ã‚’ã“ã“ã«å…¥ã‚Œã‚‰ã‚Œã¾ã™ã€‚</p>
                    <a href="${article.url}" target="_blank">è©³ã—ãè¦‹ã‚‹</a>
                `;
                dynamicTrack.appendChild(card);
            });

            currentDynamicIndex = 0;
            createDots();
            updateDynamicSlide();
        }

        /* ============================================================
           ğŸŸ¢ è¨˜äº‹ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
        ============================================================ */
        function updateDynamicSlide() {
            const cards = dynamicTrack.children;
            if (!cards.length) return;

            const style = getComputedStyle(dynamicTrack);
            const gap = parseInt(style.gap) || 0;
            const cardWidth = cards[0].offsetWidth + gap;

            dynamicTrack.style.transform = `translateX(${-currentDynamicIndex * cardWidth}px)`;
            updateDots();
        }

        function goToSlide(index) {
            const cards = dynamicTrack.children;
            if (!cards.length) return;

            const max = cards.length;
            currentDynamicIndex = (index + max) % max;
            updateDynamicSlide();
        }

        document.getElementById('dynamicNextBtn').addEventListener('click', () => {
            goToSlide(currentDynamicIndex + 1);
            restartDotTimer();
            restartAutoSlide();
        });

        document.getElementById('dynamicPrevBtn').addEventListener('click', () => {
            goToSlide(currentDynamicIndex - 1);
            restartDotTimer();
            restartAutoSlide();
        });

        // ãƒ‰ãƒƒãƒˆç”Ÿæˆ
        function createDots() {
            sliderDotsContainer.innerHTML = '';
            const cards = dynamicTrack.children;
            if (!cards.length) return;

            for (let i = 0; i < cards.length; i++) {
                const dot = document.createElement('button');
                dot.type = 'button';
                dot.classList.add('slider-dot');
                dot.dataset.index = i;

                dot.addEventListener('click', () => {
                    goToSlide(i);
                    restartDotTimer();
                    restartAutoSlide();
                });

                sliderDotsContainer.appendChild(dot);
            }
            updateDots();
        }

        // ãƒ‰ãƒƒãƒˆæ›´æ–°ï¼‹å††ã‚¿ã‚¤ãƒãƒ¼
        function updateDots() {
            const dots = sliderDotsContainer.querySelectorAll('.slider-dot');
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentDynamicIndex);
                if (i !== currentDynamicIndex) {
                    dot.style.setProperty("--progress", "0deg");
                }
            });
            if (!isPaused) restartDotTimer();
        }

        function restartDotTimer() {
            const activeDot = document.querySelector('.slider-dot.active');
            if (!activeDot) return;

            if (dotTimerAnimationId) {
                cancelAnimationFrame(dotTimerAnimationId);
            }

            activeDot.style.setProperty("--progress", "0deg");
            dotTimerStartTime = performance.now();
            animateDotTimer();
        }

        function animateDotTimer(now) {
            const activeDot = document.querySelector('.slider-dot.active');
            if (!activeDot) return;

            if (!now) now = performance.now();

            const elapsed = now - dotTimerStartTime;
            const progress = Math.min(elapsed / SLIDE_INTERVAL, 1);
            const angle = 360 * progress;

            activeDot.style.setProperty("--progress", angle + "deg");

            if (progress < 1) {
                dotTimerAnimationId = requestAnimationFrame(animateDotTimer);
            }
        }

        // è‡ªå‹•ã‚¹ãƒ©ã‚¤ãƒ‰
        function startAutoDynamicSlide() {
            if (autoSlideId || isPaused) return;
            restartDotTimer();
            autoSlideId = setInterval(() => {
                goToSlide(currentDynamicIndex + 1);
                restartDotTimer();
            }, SLIDE_INTERVAL);
        }

        function stopAutoDynamicSlide() {
            if (!autoSlideId) return;
            clearInterval(autoSlideId);
            autoSlideId = null;
        }

        function restartAutoSlide() {
            if (isPaused) return;
            stopAutoDynamicSlide();
            startAutoDynamicSlide();
        }

        // ä¸€æ™‚åœæ­¢ãƒœã‚¿ãƒ³
        pauseBtn.addEventListener('click', () => {
            if (isPaused) {
                isPaused = false;
                pauseBtn.textContent = 'â¸';
                startAutoDynamicSlide();
                restartDotTimer();
            } else {
                isPaused = true;
                pauseBtn.textContent = 'â–¶';
                stopAutoDynamicSlide();
                if (dotTimerAnimationId) {
                    cancelAnimationFrame(dotTimerAnimationId);
                    dotTimerAnimationId = null;
                }
            }
        });

        /* ============================================================
           ğŸŸ¢ Heroã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼
        ============================================================ */
        function initHeroSlide() {
            const slides = document.querySelectorAll('.hero-slide');
            if (!slides.length) return;
            let currentSlide = 0;
            const interval = 7000;

            function showSlide(index) {
                slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
            }

            showSlide(currentSlide);

            setInterval(() => {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }, interval);
        }

        /* ============================================================
           ğŸŸ¢ æ–‡å­—ã‚µã‚¤ã‚ºåˆ‡æ›¿
        ============================================================ */
        function initFontSize() {
            const fontSizeRadios = document.querySelectorAll('input[name="font-size"]');
            const savedFontSize = localStorage.getItem('fontSize') || 'medium';

            applyFontSize(savedFontSize);

            fontSizeRadios.forEach(radio => {
                radio.checked = radio.value === savedFontSize;
                radio.addEventListener('change', () => applyFontSize(radio.value));
            });

            function applyFontSize(size) {
                document.body.classList.remove('font-small', 'font-medium', 'font-large');
                if (size === 'small') document.body.classList.add('font-small');
                if (size === 'medium') document.body.classList.add('font-medium');
                if (size === 'large') document.body.classList.add('font-large');
                localStorage.setItem('fontSize', size);
            }
        }

        /* ============================================================
           ğŸŸ¢ ãƒˆã‚°ãƒ«ãƒªã‚¹ãƒˆ
        ============================================================ */
        function initToggleList() {
            document.querySelectorAll('.toggle-header').forEach(header => {
                header.addEventListener('click', () => {
                    const parent = header.parentElement;
                    parent.classList.toggle('active');
                    header.querySelector('span').textContent =
                        parent.classList.contains('active') ? 'âˆ’' : '+';
                });
            });
        }

        /* ============================================================
           ğŸŸ¢ ãƒšãƒ¼ã‚¸åˆæœŸåŒ–
        ============================================================ */
        window.addEventListener('load', () => {
            if (!hasVisited_index) popup.style.display = 'flex';

            if (savedRegion) regionSelect.value = savedRegion;
            if (savedAudience) audienceSelect.value = savedAudience;

            updateDynamicContent();
            initHeroSlide();
            initFontSize();
            initToggleList();
            startAutoDynamicSlide();
        });
    </script>
</body>

</html>