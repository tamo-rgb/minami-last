<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>札幌市南区</title>

  <!-- ① フォント -->
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@300;400;500;700&display=swap"
    rel="stylesheet">

  <!-- ② 自分のCSS -->
  <link rel="stylesheet" href="assets/style.css">

  <!-- ③ JS -->
  <script src="assets/common.js"></script>

  <!-- ④ intro.js のCSS・JS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/introjs.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/intro.min.js"></script>
</head>
<style>
  /* =========================
   Intro.js ツアー
========================= */
  .introjs-tooltip {
    background-color: #ffffff;
    border-radius: 15px;
    width: 300px;
    font-size: 18px;
  }

  .introjs-progress {
    background-color: rgb(177, 177, 177);
  }

  .introjs-nextbutton {
    background-color: #FFD500 !important;
    border: none;
    border-radius: 12px;
    padding: 10px 24px;
    font-weight: bold;
  }

  .introjs-prevbutton {
    background-color: #ececec !important;
    color: #333;
    border: none;
    border-radius: 12px;
    padding: 10px 24px;
    font-weight: bold;
  }

  .end {
    text-align: center;
  }

  /* =========================
   汎用ボタン
========================= */
  /* ===== パンくずリスト ===== */
  .breadcrumb {
    margin: 10px;
    color: #555;
  }

  .breadcrumb a {
    color: #2e8b57;
    /* 緑色リンク */
    text-decoration: none;
    font-weight: 500;
  }

  .breadcrumb a:hover {
    text-decoration: underline;
  }

  .breadcrumb span {
    color: #333;
  }

  /* section */
  .section {
    padding: 20px 10px;
  }

  /* カード */
  .omidashi h3 {
    padding: 0px;
    margin: 0px 0px 0px 10px;
  }

  #s_1 .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    margin: 10px 0px 5px 0px;
  }

  h3 {
    text-align: center;
    padding-top:5px;
  }


  #s_1 .card {
    background-color: #ffffff;
  }
  #s_2 .card{
    background-color: var(--color-dkgr);
  }
  #s_2 h3{
    color: #ffffff;
  }
  #s_2 {
    color: #ffffff;
  }
  #s_2 .grid{
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin: 10px 0px 5px 0px;
  }
  #s_2 .card-icon img{
    width: 50px;
    height: 50px;
    object-fit: contain;
  }

  .card {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    border-radius: 10px;
    background-color: var(--color-bg);
    padding: 10px 5px;
    box-shadow: 0 1px 2px rgba(10, 10, 10, 0.04);
    text-decoration: none;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  .card-icon {
    display: flex;
    justify-content: center;
    gap: 10px;
    padding-bottom: 5px;
  }
  #s_1 .card-icon img{
    width: 50px;
    height: auto;
  }

  .card-icon h3 {
    color: var(--color-text);
    margin: 0px;
    text-align: center;
    padding-right: 8px;
  }

  .card p {
    color: var(--color-text);
    text-align: center;
  }

  .list-item {
    padding: 5px 0;
    border-bottom: 1px dashed #eee;
  }

  .list-item .meta {
    color: var(--color-text);
    margin-bottom: 10px;
  }


  /* ボタン */
  #start-tour {
    padding: 15px 40px;
    cursor: pointer;
    background: var(--color-primary);
    font-weight: bold;
    font-size: var(--font-button);
    color: var(--color-bg);
    border: var(--color-primary);
    border-radius: 50px;
  }

  .end {
    text-align: center;
  }

  p {
    margin: 0px;
    font-size: var(--font-h4)
  }
</style>

<body>
  <!-- スクロール進捗バー -->
  <div id="scrollProgress"></div>

  <!-- ポップアップ -->
  <div id="popup" style="display:none;">
    <div class="popup-content">

    </div>
  </div>

  <!-- ヘッダー読み込み -->
  <div id="header"></div>

  <!-- 余白 -->
  <div style="height: 60px;  background-color: #ffffff;">
  </div>

  <main>
    <!-- パンくずリスト -->
    <div id="bread">
      <nav class="breadcrumb">
        <a href="index.html">ホームページ</a> ＞ <span>情報を探す</span>
      </nav>
    </div>

    <div id="find">
      <section class="section" id="s_1" >
        <h3>カテゴリから探す</h3>
        <div class="grid">

          <a href="/search/search_living.html" class="card">
            <div class="card-icon">
              <img src="data/1.png" alt="手続きアイコン">
              <h3>暮らし・手続き</h3>
            </div>
            <p>住民票/税金/ごみ</p>
          </a>

          <a href="search/search_comfort.html" class="card">
            <div class="card-icon">
              <img src="data/2.png" alt="健康アイコン">
              <h3>防災・安全</h3>
            </div>
            <p>避難所・災害情報</p>
          </a>

          <a href="search/search_health.html" class="card">
            <div class="card-icon">
              <img src="data/3.png" alt="手続きアイコン">
              <h3>子育て・健康福祉</h3>
            </div>
            <p>健康診断/介護/医療</p>
          </a>

          <a href="search/search_comfort.html" class="card">
            <div class="card-icon">
              <img src="data/4.png" alt="健康アイコン">
              <h3>環境・施設</h3>
            </div>
            <p>施設/公園設備<br>雪対策/道路整備</p>
          </a>

          <a href="search/search_health.html" class="card">
            <div class="card-icon">
              <img src="data/5.png" alt="手続きアイコン">
              <h3>文化・行事</h3>
            </div>
            <p>観光地/地域イベント</p>
          </a>

          <a href="search/search_comfort.html" class="card">
            <div class="card-icon">
              <img src="data/6.png" alt="健康アイコン">
              <h3>まちづくり</h3>
            </div>
            <p>市政・広報</p>
          </a>

        </div>

    </div>
    </section>

    <section class="section" id="s_2" style="background-color:#ffffff;">
      <h3 style="color:var(--color-dkgr);">できごとから探す</h3>
      <div class="grid">

        <a href="/search/search_living.html" class="card">
          <div class="card-icon">
            <img src="data/search_7.png" alt="手続きアイコン">
          </div>
          <h3>引っ越し</h3>
        </a>

        <a href="search/search_comfort.html" class="card">
          <div class="card-icon">
            <img src="data/search_8.png" alt="健康アイコン">
          </div>
          <h3>結婚</h3>
        </a>

        <a href="search/search_health.html" class="card">
          <div class="card-icon">
            <img src="data/search_9.png" alt="手続きアイコン">
          </div>
          <h3>離婚</h3>
        </a>

        <a href="search/search_comfort.html" class="card">
          <div class="card-icon">
            <img src="data/search_10.png" alt="健康アイコン">
          </div>
          <h3>妊娠・出産</h3>
        </a>

        <a href="search/search_health.html" class="card">
          <div class="card-icon">
            <img src="data/search_11.png" alt="手続きアイコン">
          </div>
          <h3>就職・退職</h3>
        </a>

        <a href="search/search_comfort.html" class="card">
          <div class="card-icon">
            <img src="data/search_12.png" alt="健康アイコン">
          </div>
          <h3>おくやみ</h3>
        </a>

      </div>

      </div>
    </section>


    </div>
  </main>

  <!-- フッター読み込み -->
  <div id="footer"></div>

  <!-- JS 読み込み -->

  <script>
    window.addEventListener('load', () => {
      const hasVisitedSearch = localStorage.getItem('hasVisitedSearch');

      if (!hasVisitedSearch) {
        // 初回訪問 → ツアーを自動開始
        startTourSearch();

        // 2回目以降は表示しないようにフラグを保存
        localStorage.setItem('hasVisitedSearch', 'true');
      }

      // フォントサイズ設定はそのまま
      const savedFontSize = localStorage.getItem('fontSize');
      if (savedFontSize) {
        document.body.classList.remove('font-small', 'font-large');
        if (savedFontSize === 'small') document.body.classList.add('font-small');
        if (savedFontSize === 'large') document.body.classList.add('font-large');
        document.querySelectorAll('input[name="font-size"]').forEach(radio => {
          if (radio.value === savedFontSize) radio.checked = true;
        });
      }
    });

    // ツアー開始関数（search用）
    function startTourSearch() {
      introJs()
        .setOptions({
          steps: [
            {
              element: '#bread',
              intro: 'ここから前のページに戻ることができます',
              position: 'bottom'
            },
          ],
          showProgress: true,
          exitOnOverlayClick: false
        })
        .start();
    }

    // -------------------------------
    // 文字サイズ切り替え（CSS変数対応）
    // -------------------------------
    const fontSizeRadios = document.querySelectorAll('input[name="font-size"]');

    // ページ読み込み時に保存値があれば反映
    const savedFontSize = localStorage.getItem('fontSize');
    if (savedFontSize) {
      document.body.classList.remove('font-small', 'font-large');
      if (savedFontSize === 'small') document.body.classList.add('font-small');
      if (savedFontSize === 'large') document.body.classList.add('font-large');

      // ラジオボタンもチェック状態に
      fontSizeRadios.forEach(radio => {
        if (radio.value === savedFontSize) radio.checked = true;
      });
    }

    // 選択変更時
    fontSizeRadios.forEach(radio => {
      radio.addEventListener('change', () => {
        document.body.classList.remove('font-small', 'font-large');
        if (radio.value === 'small') document.body.classList.add('font-small');
        if (radio.value === 'large') document.body.classList.add('font-large');
        // 中の場合はクラスなし（デフォルト）

        // localStorageに保存
        localStorage.setItem('fontSize', radio.value);
      });
    });

  </script>
</body>

</html>